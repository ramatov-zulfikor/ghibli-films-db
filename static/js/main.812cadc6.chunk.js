(this["webpackJsonpstudio-ghibli-db"]=this["webpackJsonpstudio-ghibli-db"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),i=a.n(c),r=a(9),s=a.n(r);a(15);function l(){return Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"header__row row",children:[Object(n.jsx)("div",{className:"header__logo",children:Object(n.jsx)("a",{href:"/",children:"Studio Ghibli DB"})}),Object(n.jsxs)("nav",{className:"header__menu row",children:[Object(n.jsx)("a",{href:"https://ghibliapi.herokuapp.com/",className:"header__link",children:"API"}),Object(n.jsx)("a",{href:"https://www.dannybeaton.com.au/",className:"header__link",children:"Illustrator"})]})]})})})}var d=a(3),o=a(4),u=a(6),b=a(5);a(16);function f(){return Object(n.jsx)("div",{class:"loadingio-spinner-eclipse-afuy3qqd9yj",children:Object(n.jsx)("div",{class:"ldio-58zv09hcess",children:Object(n.jsx)("div",{})})})}var h=a(2),j=a.n(h),m=a(7),p=function e(){var t=this;Object(d.a)(this,e),this.getResource=function(){var e=Object(m.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(" https://ghibliapi.herokuapp.com".concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch https://ghibliapi.herokuapp.com".concat(t));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getFilms=Object(m.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/films");case 2:return a=e.sent,e.abrupt("return",a.map((function(e){return t._transformFilm(e)})));case 4:case"end":return e.stop()}}),e)}))),this.getFilm=function(){var e=Object(m.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/films/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformFilm(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformFilm=function(e){return{id:e.id,title:e.title,description:e.description,director:e.director,producer:e.producer,releaseDate:e.release_date,score:e.rt_score}},this.getPeople=Object(m.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people");case 2:return a=e.sent,e.abrupt("return",a.slice(0,20).map((function(e){return t._transformPerson(e)})));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(m.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformPerson=function(e){return{id:e.id,name:e.name,gender:e.gender,age:e.age,eyeColor:e.eye_color,hairColor:e.hair_color}}},O=(a(18),function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).ghibliService=new p,e.state={film:{},filmsId:["2baf70d1-42bb-4437-b551-e5fed5a87abe","12cfb892-aac0-4c5b-94af-521852e46d6a","58611129-2dbc-4a81-a72f-77ddfc1b1b49","ea660b10-85c4-4ae3-8a5f-41cea3648e3e","4e236f34-b981-41c3-8c65-f8c9000b94e7","ebbb6b7c-945c-41ee-a792-de0e43191bd8","1b67aa9a-2e4a-45af-ac98-64d6ad15b16c","ff24da26-a969-4f0e-ba1e-a122ead6c6e3","0440483e-ca0e-4120-8c50-4c8cd9b965d6","45204234-adfd-45cb-a505-a8e7a676b114","dc2e6bd1-8156-4886-adff-b39e6043af0c","90b72513-afd4-4570-84de-a56c312fdf81","cd3d059c-09f4-4ff3-8d63-bc765a5184fa","112c1e67-726f-40b1-ac17-6974127bb9b9","758bf02e-3122-46e0-884e-67cf83df1786","2de9426b-914a-4a06-a3a0-5e6d9d3886f6","45db04e4-304a-4933-9823-33f389e8d74d","67405111-37a5-438f-81cc-4666af60c800","578ae244-7750-4d9f-867b-f3cd3d6fecf4","5fdfb320-2a02-49a7-94ff-5ca418cae602"],loading:!0},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.updateFilm(),this.interval=setInterval((function(){e.updateFilm()}),7500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"updateFilm",value:function(){var e=this,t=Math.floor(20*Math.random()),a=this.state.filmsId[t];this.ghibliService.getFilm(a).then((function(t){e.setState({film:t,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.film,a=e.loading,c=a?null:Object(n.jsx)(v,{film:t}),i=a?Object(n.jsx)(f,{}):null;return Object(n.jsxs)("div",{className:"random-film page-row row",children:[c,i]})}}]),a}(c.Component));function v(e){var t=e.film,a=t.id,c=t.title,r=t.description,s=t.releaseDate;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("div",{className:"random-film__col col",children:Object(n.jsx)("img",{src:"/ghibli-films-db"+"posters/".concat(a,".jpg"),alt:"poster"})}),Object(n.jsxs)("div",{className:"random-film__col col",children:[Object(n.jsx)("h2",{className:"random-film__title",children:c}),Object(n.jsx)("h4",{className:"random-film__subtitle",children:s}),Object(n.jsx)("h4",{children:"About:"}),Object(n.jsx)("p",{children:r})]})]})}a(19);var x=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).ghibliService=new p,e.state={items:[],loading:!0},e.getItems=function(t){(0,e.props.getData)().then((function(t){e.setState({items:t,loading:!1})}))},e.renderItem=function(t){return t.map((function(t){var a=e.props.renderItem(t);return Object(n.jsx)("li",{className:"item",onClick:function(){return e.props.selectItem(t.id)},children:a},t.id)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){var e=this.renderItem(this.state.items),t=this.state.loading?null:e,a=this.state.loading?Object(n.jsx)(f,{}):null;return Object(n.jsxs)("div",{className:"item-list",children:[a,Object(n.jsx)("ul",{className:"items",children:t})]})}}]),a}(c.Component),g=(a(20),function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).ghibliService=new p,e.state={film:{},loading:!0},e.renderFilmDetails=function(){var t=e.props.filmId;t&&e.ghibliService.getFilm(t).then(e.onFilmLoaded)},e.onFilmLoaded=function(t){e.setState({film:t,loading:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.renderFilmDetails()}},{key:"componentDidUpdate",value:function(e){this.props.filmId!==e.filmId&&(this.setState({loading:!0}),this.renderFilmDetails())}},{key:"render",value:function(){var e=this.state,t=e.film,a=e.loading,c=a?null:Object(n.jsx)(k,{film:t}),i=a?Object(n.jsx)(f,{}):null;return Object(n.jsxs)("div",{className:"film-details",children:[c,i]})}}]),a}(c.Component));function k(e){var t=e.film,a=t.id,c=t.title,r=t.description,s=t.director,l=t.producer,d=t.releaseDate,o=t.score,u=[{id:"2baf70d1-42bb-4437-b551-e5fed5a87abe",link:"https://youtu.be/8ykEy-yPBFc"},{id:"12cfb892-aac0-4c5b-94af-521852e46d6a",link:"https://youtu.be/4vPeTSRd580"},{id:"58611129-2dbc-4a81-a72f-77ddfc1b1b49",link:"https://youtu.be/92a7Hj0ijLs"},{id:"ea660b10-85c4-4ae3-8a5f-41cea3648e3e",link:"https://youtu.be/4bG17OYs-GA"},{id:"4e236f34-b981-41c3-8c65-f8c9000b94e7",link:"https://youtu.be/OfkQlZArxw0"},{id:"ebbb6b7c-945c-41ee-a792-de0e43191bd8",link:"https://youtu.be/awEC-aLDzjs"},{id:"1b67aa9a-2e4a-45af-ac98-64d6ad15b16c",link:"https://youtu.be/_7cowIHjCD4"},{id:"ff24da26-a969-4f0e-ba1e-a122ead6c6e3",link:"https://youtu.be/0pVkiod6V0U"},{id:"0440483e-ca0e-4120-8c50-4c8cd9b965d6",link:"https://youtu.be/4OiMOHRDs14"},{id:"45204234-adfd-45cb-a505-a8e7a676b114",link:"https://youtu.be/1C9ujuCPlnY"},{id:"dc2e6bd1-8156-4886-adff-b39e6043af0c",link:"https://youtu.be/ByXuk9QqQkk"},{id:"90b72513-afd4-4570-84de-a56c312fdf81",link:"https://youtu.be/Gp-H_YOcYTM"},{id:"cd3d059c-09f4-4ff3-8d63-bc765a5184fa",link:"https://youtu.be/iwROgK94zcM"},{id:"112c1e67-726f-40b1-ac17-6974127bb9b9",link:"https://youtu.be/8hxYx3Jq3kI"},{id:"758bf02e-3122-46e0-884e-67cf83df1786",link:"https://youtu.be/CsR3KVgBzSM"},{id:"2de9426b-914a-4a06-a3a0-5e6d9d3886f6",link:"https://youtu.be/9CtIXPhPo0g"},{id:"45db04e4-304a-4933-9823-33f389e8d74d",link:"https://youtu.be/9nzpk_Br6yo"},{id:"67405111-37a5-438f-81cc-4666af60c800",link:"https://youtu.be/YrueAaw0RYg"},{id:"578ae244-7750-4d9f-867b-f3cd3d6fecf4",link:"https://youtu.be/I9QnebAVHVk"},{id:"5fdfb320-2a02-49a7-94ff-5ca418cae602",link:"https://youtu.be/jjmrxqcQdYg"}].map((function(e){if(e.id===a)return e.link})).join();return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)("div",{className:"film-details__col col",children:[Object(n.jsx)("img",{src:"/ghibli-films-db"+"posters/".concat(a,".jpg"),alt:"poster"}),Object(n.jsx)("button",{className:"film-details__button",children:Object(n.jsx)("a",{"data-fancybox":!0,href:u,children:"Watch Trailer"})})]}),Object(n.jsxs)("div",{className:"film-details__col col",children:[Object(n.jsx)("h2",{className:"film-details__title",children:c}),Object(n.jsxs)("h4",{className:"film-details__subtitle",children:["Release date: ",Object(n.jsx)("span",{children:d})]}),Object(n.jsxs)("h4",{className:"film-details__subtitle",children:["Directed by: ",Object(n.jsx)("span",{children:s})]}),Object(n.jsxs)("h4",{className:"film-details__subtitle",children:["Produced by: ",Object(n.jsx)("span",{children:l})]}),Object(n.jsxs)("h4",{className:"film-details__subtitle",children:["Score: ",Object(n.jsx)("span",{children:o})]}),Object(n.jsx)("p",{children:r})]})]})}var y=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).ghibliService=new p,e.state={selectedItem:"67405111-37a5-438f-81cc-4666af60c800"},e.selectItem=function(t){e.setState({selectedItem:t})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"page-row row",children:[Object(n.jsx)(x,{selectItem:this.selectItem,getData:this.ghibliService.getFilms,renderItem:function(e){return e.title}}),Object(n.jsx)(g,{filmId:this.state.selectedItem})]})}}]),a}(c.Component);a(21);function _(){return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(l,{}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(O,{}),Object(n.jsx)(y,{})]})]})}s.a.render(Object(n.jsx)(_,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.812cadc6.chunk.js.map